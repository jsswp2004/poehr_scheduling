2025-06-13 10:23:26,764 INFO     Starting server at tcp:port=8000:interface=127.0.0.1
2025-06-13 10:23:26,764 INFO     HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-06-13 10:23:26,765 INFO     Configuring endpoint tcp:port=8000:interface=127.0.0.1
2025-06-13 10:23:26,765 INFO     Listening on TCP address 127.0.0.1:8000
2025-06-13 10:24:07,808 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 13, in connect
    print(f"\U0001f50d WebSocket connection attempt - User: {self.user}, Type: {type(self.user)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
2025-06-13 10:24:08,835 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 688, in connect
    print(f"\U0001f50d Chat WebSocket connection attempt - User: {self.user}, Type: {type(self.user)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
2025-06-13 10:24:16,920 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 13, in connect
    print(f"\U0001f50d WebSocket connection attempt - User: {self.user}, Type: {type(self.user)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
2025-06-13 10:24:17,926 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 688, in connect
    print(f"\U0001f50d Chat WebSocket connection attempt - User: {self.user}, Type: {type(self.user)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
2025-06-13 10:24:19,949 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 13, in connect
    print(f"\U0001f50d WebSocket connection attempt - User: {self.user}, Type: {type(self.user)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
2025-06-13 10:24:20,953 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 688, in connect
    print(f"\U0001f50d Chat WebSocket connection attempt - User: {self.user}, Type: {type(self.user)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
2025-06-13 10:24:33,046 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 13, in connect
    print(f"\U0001f50d WebSocket connection attempt - User: {self.user}, Type: {type(self.user)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
2025-06-13 10:24:34,056 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 688, in connect
    print(f"\U0001f50d Chat WebSocket connection attempt - User: {self.user}, Type: {type(self.user)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
2025-06-13 10:25:52,415 INFO     Starting server at tcp:port=8000:interface=127.0.0.1
2025-06-13 10:25:52,415 INFO     HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-06-13 10:25:52,415 INFO     Configuring endpoint tcp:port=8000:interface=127.0.0.1
2025-06-13 10:25:52,416 INFO     Listening on TCP address 127.0.0.1:8000
127.0.0.1:62148 - - [13/Jun/2025:10:26:06] "WSCONNECTING /ws/presence/" - -
WebSocket connection attempt - User: AnonymousUser, Type: <class 'django.contrib.auth.models.AnonymousUser'>
WARNING: WebSocket connection from anonymous user - ALLOWING FOR TESTING
WebSocket connection accepted - User: test_user (ID: 999)
2025-06-13 10:26:07,522 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f9ea' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 53, in connect
    print("\U0001f9ea Test user - skipping online status update")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f9ea' in position 0: character maps to <undefined>
2025-06-13 10:26:09,664 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 688, in connect
    print(f"\U0001f50d Chat WebSocket connection attempt - User: {self.user}, Type: {type(self.user)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
2025-06-13 10:28:41,717 INFO     Starting server at tcp:port=8000:interface=127.0.0.1
2025-06-13 10:28:41,717 INFO     HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-06-13 10:28:41,717 INFO     Configuring endpoint tcp:port=8000:interface=127.0.0.1
2025-06-13 10:28:41,718 INFO     Listening on TCP address 127.0.0.1:8000
127.0.0.1:62386 - - [13/Jun/2025:10:28:47] "GET /api/users/17/" 200 662
127.0.0.1:62399 - - [13/Jun/2025:10:28:50] "WSCONNECTING /ws/presence/" - -
WebSocket connection attempt - User: AnonymousUser, Type: <class 'django.contrib.auth.models.AnonymousUser'>
WARNING: WebSocket connection from anonymous user - ALLOWING FOR TESTING
WebSocket connection accepted - User: test_user (ID: 999)
2025-06-13 10:28:50,664 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f9ea' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 180, in websocket_connect
    await self.connect()
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 53, in connect
    print("\U0001f9ea Test user - skipping online status update")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f9ea' in position 0: character maps to <undefined>
127.0.0.1:62399 - - [13/Jun/2025:10:28:50] "WSCONNECT /ws/presence/" - -
127.0.0.1:62399 - - [13/Jun/2025:10:28:50] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:62403 - - [13/Jun/2025:10:28:50] "WSCONNECTING /ws/chat/" - -
Chat WebSocket connection attempt - User: AnonymousUser, Type: <class 'django.contrib.auth.models.AnonymousUser'>
WARNING: Chat WebSocket connection from anonymous user - ALLOWING FOR TESTING
SUCCESS: Chat WebSocket connection accepted - User: test_user (ID: 999)
127.0.0.1:62403 - - [13/Jun/2025:10:28:50] "WSCONNECT /ws/chat/" - -
127.0.0.1:62403 - - [13/Jun/2025:10:28:50] "WSDISCONNECT /ws/chat/" - -
DISCONNECT: Chat WebSocket disconnected - User: test_user (Code: 1000)
2025-06-13 10:29:52,710 INFO     Starting server at tcp:port=8000:interface=127.0.0.1
2025-06-13 10:29:52,710 INFO     HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-06-13 10:29:52,710 INFO     Configuring endpoint tcp:port=8000:interface=127.0.0.1
2025-06-13 10:29:52,711 INFO     Listening on TCP address 127.0.0.1:8000
127.0.0.1:62480 - - [13/Jun/2025:10:29:54] "GET /api/users/37/" 200 671
127.0.0.1:62491 - - [13/Jun/2025:10:30:00] "WSCONNECTING /ws/presence/" - -
WebSocket connection attempt - User: AnonymousUser, Type: <class 'django.contrib.auth.models.AnonymousUser'>
WARNING: WebSocket connection from anonymous user - ALLOWING FOR TESTING
WebSocket connection accepted - User: test_user (ID: 999)
127.0.0.1:62491 - - [13/Jun/2025:10:30:00] "WSCONNECT /ws/presence/" - -
TEST: Test user - skipping online status update
2025-06-13 10:30:01,536 ERROR    Exception inside application: 'charmap' codec can't encode character '\U0001f4e8' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 204, in websocket_receive
    await self.receive(text_data=message["text"])
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 83, in receive
    print(f"\U0001f4e8 Received WebSocket message: {text_data}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 47, in write
    self.__convertor.write(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 177, in write
    self.write_and_convert(text)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 205, in write_and_convert
    self.write_plain_text(text, cursor, len(text))
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\colorama\ansitowin32.py", line 210, in write_plain_text
    self.wrapped.write(text[start:end])
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4e8' in position 0: character maps to <undefined>
127.0.0.1:62491 - - [13/Jun/2025:10:30:01] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:62495 - - [13/Jun/2025:10:30:01] "WSCONNECTING /ws/chat/" - -
Chat WebSocket connection attempt - User: AnonymousUser, Type: <class 'django.contrib.auth.models.AnonymousUser'>
WARNING: Chat WebSocket connection from anonymous user - ALLOWING FOR TESTING
SUCCESS: Chat WebSocket connection accepted - User: test_user (ID: 999)
127.0.0.1:62495 - - [13/Jun/2025:10:30:01] "WSCONNECT /ws/chat/" - -
127.0.0.1:62495 - - [13/Jun/2025:10:30:01] "WSDISCONNECT /ws/chat/" - -
DISCONNECT: Chat WebSocket disconnected - User: test_user (Code: 1000)
2025-06-13 10:34:43,652 INFO     Starting server at tcp:port=8000:interface=127.0.0.1
2025-06-13 10:34:43,652 INFO     HTTP/2 support not enabled (install the http2 and tls Twisted extras)
2025-06-13 10:34:43,653 INFO     Configuring endpoint tcp:port=8000:interface=127.0.0.1
2025-06-13 10:34:43,653 INFO     Listening on TCP address 127.0.0.1:8000
127.0.0.1:62911 - - [13/Jun/2025:10:34:47] "GET /api/users/17/" 200 662
127.0.0.1:62921 - - [13/Jun/2025:10:34:53] "WSCONNECTING /ws/presence/" - -
WebSocket connection attempt - User: AnonymousUser, Type: <class 'django.contrib.auth.models.AnonymousUser'>
WARNING: WebSocket connection from anonymous user - ALLOWING FOR TESTING
WebSocket connection accepted - User: test_user (ID: 999)
127.0.0.1:62921 - - [13/Jun/2025:10:34:53] "WSCONNECT /ws/presence/" - -
TEST: Test user - skipping online status update
Received WebSocket message: {"type": "get_online_users"}
Message type: get_online_users
127.0.0.1:62921 - - [13/Jun/2025:10:34:54] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:62925 - - [13/Jun/2025:10:34:54] "WSCONNECTING /ws/chat/" - -
Chat WebSocket connection attempt - User: AnonymousUser, Type: <class 'django.contrib.auth.models.AnonymousUser'>
WARNING: Chat WebSocket connection from anonymous user - ALLOWING FOR TESTING
SUCCESS: Chat WebSocket connection accepted - User: test_user (ID: 999)
127.0.0.1:62925 - - [13/Jun/2025:10:34:54] "WSCONNECT /ws/chat/" - -
127.0.0.1:62925 - - [13/Jun/2025:10:34:54] "WSDISCONNECT /ws/chat/" - -
DISCONNECT: Chat WebSocket disconnected - User: test_user (Code: 1000)
127.0.0.1:62911 - - [13/Jun/2025:10:35:08] "GET /api/users/17/" 200 662
127.0.0.1:62941 - - [13/Jun/2025:10:35:08] "GET /api/users/37/" 200 671
127.0.0.1:63007 - - [13/Jun/2025:10:35:16] "WSCONNECTING /ws/presence/" - -
127.0.0.1:62911 - - [13/Jun/2025:10:35:16] "GET /api/users/17/" 200 662
127.0.0.1:63004 - - [13/Jun/2025:10:35:17] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63007 - - [13/Jun/2025:10:35:17] "WSCONNECT /ws/presence/" - -
Setting user joshsalvacion (ID: 17) as ONLINE
Database operation: Setting user 17 online status to True
127.0.0.1:63019 - - [13/Jun/2025:10:35:17] "WSCONNECTING /ws/chat/" - -
127.0.0.1:62911 - - [13/Jun/2025:10:35:17] "GET /api/users/17/" 200 662
SUCCESS: Successfully set user 17 online status to True
SUCCESS: Set online result: True
127.0.0.1:63004 - - [13/Jun/2025:10:35:17] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63004 - - [13/Jun/2025:10:35:17] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63019 - - [13/Jun/2025:10:35:17] "WSCONNECT /ws/chat/" - -
127.0.0.1:63004 - - [13/Jun/2025:10:35:17] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63004 - - [13/Jun/2025:10:35:19] "GET /api/users/team/?search=&page=1&page_size=10" 200 3002
127.0.0.1:63071 - - [13/Jun/2025:10:35:27] "WSCONNECTING /ws/presence/" - -
127.0.0.1:63071 - - [13/Jun/2025:10:35:27] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:63074 - - [13/Jun/2025:10:35:27] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63074 - - [13/Jun/2025:10:35:27] "WSDISCONNECT /ws/chat/" - -
WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: joshsalvacion (ID: 17)
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
DISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1006)
Setting user joshsalvacion (ID: 17) as ONLINE
Database operation: Setting user 17 online status to True
SUCCESS: Successfully set user 17 online status to True
SUCCESS: Set online result: True
Setting user joshsalvacion (ID: 17) as OFFLINE
Database operation: Setting user 17 online status to False
SUCCESS: Successfully set user 17 online status to False
127.0.0.1:62941 - - [13/Jun/2025:10:35:28] "GET /api/users/37/" 200 671
127.0.0.1:63094 - - [13/Jun/2025:10:35:28] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63105 - - [13/Jun/2025:10:35:28] "WSCONNECTING /ws/presence/" - -
127.0.0.1:62941 - - [13/Jun/2025:10:35:28] "GET /api/users/37/" 200 671
127.0.0.1:63094 - - [13/Jun/2025:10:35:28] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
WebSocket connection attempt - User: daniellebishop (admin), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: daniellebishop (ID: 37)
127.0.0.1:63105 - - [13/Jun/2025:10:35:28] "WSCONNECT /ws/presence/" - -
Setting user daniellebishop (ID: 37) as ONLINE
Database operation: Setting user 37 online status to True
127.0.0.1:63110 - - [13/Jun/2025:10:35:28] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63094 - - [13/Jun/2025:10:35:28] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
SUCCESS: Successfully set user 37 online status to True
SUCCESS: Set online result: True
127.0.0.1:63094 - - [13/Jun/2025:10:35:29] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
Chat WebSocket connection attempt - User: daniellebishop (admin), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: daniellebishop (ID: 37)
127.0.0.1:63110 - - [13/Jun/2025:10:35:29] "WSCONNECT /ws/chat/" - -
127.0.0.1:63121 - - [13/Jun/2025:10:35:31] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63121 - - [13/Jun/2025:10:35:31] "WSDISCONNECT /ws/chat/" - -
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
DISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1006)
127.0.0.1:63094 - - [13/Jun/2025:10:35:32] "GET /api/users/team/?search=&page=1&page_size=10" 200 3002
127.0.0.1:63105 - - [13/Jun/2025:10:35:36] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:63110 - - [13/Jun/2025:10:35:36] "WSDISCONNECT /ws/chat/" - -
Setting user daniellebishop (ID: 37) as OFFLINE
Database operation: Setting user 37 online status to FalseDISCONNECT: Chat WebSocket disconnected - User: daniellebishop (Code: 1001)

SUCCESS: Successfully set user 37 online status to False
127.0.0.1:63094 - - [13/Jun/2025:10:35:36] "GET /api/users/37/" 200 671
127.0.0.1:62941 - - [13/Jun/2025:10:35:36] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63094 - - [13/Jun/2025:10:35:37] "GET /api/users/37/" 200 671
127.0.0.1:63151 - - [13/Jun/2025:10:35:37] "WSCONNECTING /ws/presence/" - -
127.0.0.1:62941 - - [13/Jun/2025:10:35:37] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
WebSocket connection attempt - User: daniellebishop (admin), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: daniellebishop (ID: 37)
127.0.0.1:63151 - - [13/Jun/2025:10:35:37] "WSCONNECT /ws/presence/" - -
Setting user daniellebishop (ID: 37) as ONLINE
Database operation: Setting user 37 online status to True
127.0.0.1:63157 - - [13/Jun/2025:10:35:37] "WSCONNECTING /ws/chat/" - -
127.0.0.1:62941 - - [13/Jun/2025:10:35:37] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
SUCCESS: Successfully set user 37 online status to True
SUCCESS: Set online result: True
127.0.0.1:62941 - - [13/Jun/2025:10:35:37] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
Chat WebSocket connection attempt - User: daniellebishop (admin), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: daniellebishop (ID: 37)
127.0.0.1:63157 - - [13/Jun/2025:10:35:37] "WSCONNECT /ws/chat/" - -
127.0.0.1:62941 - - [13/Jun/2025:10:35:38] "GET /api/users/team/?search=&page=1&page_size=10" 200 3002
127.0.0.1:63166 - - [13/Jun/2025:10:35:39] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63166 - - [13/Jun/2025:10:35:39] "WSDISCONNECT /ws/chat/" - -
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
DISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1006)
127.0.0.1:63151 - - [13/Jun/2025:10:35:45] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:63157 - - [13/Jun/2025:10:35:45] "WSDISCONNECT /ws/chat/" - -
Setting user daniellebishop (ID: 37) as OFFLINE
Database operation: Setting user 37 online status to FalseDISCONNECT: Chat WebSocket disconnected - User: daniellebishop (Code: 1001)

SUCCESS: Successfully set user 37 online status to False
127.0.0.1:62941 - - [13/Jun/2025:10:35:45] "GET /api/users/37/" 200 671
127.0.0.1:63188 - - [13/Jun/2025:10:35:45] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:62941 - - [13/Jun/2025:10:35:45] "GET /api/users/37/" 200 671
127.0.0.1:63197 - - [13/Jun/2025:10:35:45] "WSCONNECTING /ws/presence/" - -
127.0.0.1:63188 - - [13/Jun/2025:10:35:45] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
WebSocket connection attempt - User: daniellebishop (admin), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: daniellebishop (ID: 37)
127.0.0.1:63197 - - [13/Jun/2025:10:35:45] "WSCONNECT /ws/presence/" - -
Setting user daniellebishop (ID: 37) as ONLINE
Database operation: Setting user 37 online status to True
127.0.0.1:63203 - - [13/Jun/2025:10:35:46] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63188 - - [13/Jun/2025:10:35:46] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
SUCCESS: Successfully set user 37 online status to True
SUCCESS: Set online result: True
127.0.0.1:63188 - - [13/Jun/2025:10:35:46] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
Chat WebSocket connection attempt - User: daniellebishop (admin), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: daniellebishop (ID: 37)
127.0.0.1:63203 - - [13/Jun/2025:10:35:46] "WSCONNECT /ws/chat/" - -
127.0.0.1:63004 - - [13/Jun/2025:10:35:47] "GET /api/users/17/" 200 662
127.0.0.1:63188 - - [13/Jun/2025:10:35:48] "GET /api/users/team/?search=&page=1&page_size=10" 200 3002
127.0.0.1:63007 - - [13/Jun/2025:10:35:55] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:63019 - - [13/Jun/2025:10:35:55] "WSDISCONNECT /ws/chat/" - -
Setting user joshsalvacion (ID: 17) as OFFLINE
Database operation: Setting user 17 online status to False
DISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1001)
SUCCESS: Successfully set user 17 online status to False
127.0.0.1:63295 - - [13/Jun/2025:10:35:56] "WSCONNECTING /ws/presence/" - -
127.0.0.1:63004 - - [13/Jun/2025:10:35:56] "GET /api/users/17/" 200 662
127.0.0.1:62911 - - [13/Jun/2025:10:35:56] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63295 - - [13/Jun/2025:10:35:56] "WSCONNECT /ws/presence/" - -
Setting user joshsalvacion (ID: 17) as ONLINE
Database operation: Setting user 17 online status to True
127.0.0.1:63303 - - [13/Jun/2025:10:35:56] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63004 - - [13/Jun/2025:10:35:56] "GET /api/users/17/" 200 662
127.0.0.1:62911 - - [13/Jun/2025:10:35:56] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
SUCCESS: Successfully set user 17 online status to True
SUCCESS: Set online result: True
127.0.0.1:62911 - - [13/Jun/2025:10:35:57] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63303 - - [13/Jun/2025:10:35:57] "WSCONNECT /ws/chat/" - -
127.0.0.1:62911 - - [13/Jun/2025:10:35:57] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:62911 - - [13/Jun/2025:10:35:59] "GET /api/users/team/?search=&page=1&page_size=10" 200 3001
127.0.0.1:63319 - - [13/Jun/2025:10:35:59] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63319 - - [13/Jun/2025:10:35:59] "WSDISCONNECT /ws/chat/" - -
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
DISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1006)
127.0.0.1:62911 - - [13/Jun/2025:10:36:08] "GET /api/users/17/" 200 661
127.0.0.1:63365 - - [13/Jun/2025:10:36:16] "GET /api/users/37/" 200 670
127.0.0.1:62911 - - [13/Jun/2025:10:36:26] "GET /api/users/17/" 200 661
127.0.0.1:63365 - - [13/Jun/2025:10:36:46] "GET /api/users/37/" 200 670
127.0.0.1:63365 - - [13/Jun/2025:10:36:56] "GET /api/users/37/" 200 670
127.0.0.1:62911 - - [13/Jun/2025:10:36:56] "GET /api/users/17/" 200 661
127.0.0.1:62911 - - [13/Jun/2025:10:37:08] "GET /api/users/17/" 200 661
127.0.0.1:63365 - - [13/Jun/2025:10:37:16] "GET /api/users/37/" 200 670
127.0.0.1:62911 - - [13/Jun/2025:10:37:26] "GET /api/users/17/" 200 661
127.0.0.1:63365 - - [13/Jun/2025:10:37:46] "GET /api/users/37/" 200 670
127.0.0.1:62911 - - [13/Jun/2025:10:37:56] "GET /api/users/17/" 200 661
127.0.0.1:62911 - - [13/Jun/2025:10:38:08] "GET /api/users/17/" 200 661
127.0.0.1:63365 - - [13/Jun/2025:10:38:16] "GET /api/users/37/" 200 670
127.0.0.1:62911 - - [13/Jun/2025:10:38:19] "GET /media/org_logos/SUNY_waSNZun.png" 200 2601
127.0.0.1:63295 - - [13/Jun/2025:10:38:21] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:63303 - - [13/Jun/2025:10:38:21] "WSDISCONNECT /ws/chat/" - -
Setting user joshsalvacion (ID: 17) as OFFLINE
Database operation: Setting user 17 online status to FalseDISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1001)

SUCCESS: Successfully set user 17 online status to False
127.0.0.1:63573 - - [13/Jun/2025:10:38:22] "WSCONNECTING /ws/presence/" - -
127.0.0.1:62911 - - [13/Jun/2025:10:38:22] "GET /api/users/17/" 200 662
127.0.0.1:63581 - - [13/Jun/2025:10:38:22] "GET /media/org_logos/SUNY_waSNZun.png" 200 2601
127.0.0.1:63571 - - [13/Jun/2025:10:38:22] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63573 - - [13/Jun/2025:10:38:22] "WSCONNECT /ws/presence/" - -
Setting user joshsalvacion (ID: 17) as ONLINE
Database operation: Setting user 17 online status to True
127.0.0.1:63588 - - [13/Jun/2025:10:38:22] "WSCONNECTING /ws/chat/" - -
127.0.0.1:62911 - - [13/Jun/2025:10:38:22] "GET /api/users/17/" 200 662
SUCCESS: Successfully set user 17 online status to True
SUCCESS: Set online result: True
127.0.0.1:63571 - - [13/Jun/2025:10:38:22] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63571 - - [13/Jun/2025:10:38:22] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63588 - - [13/Jun/2025:10:38:22] "WSCONNECT /ws/chat/" - -
127.0.0.1:63571 - - [13/Jun/2025:10:38:23] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63571 - - [13/Jun/2025:10:38:25] "GET /api/users/team/?search=&page=1&page_size=10" 200 3001
127.0.0.1:63624 - - [13/Jun/2025:10:38:29] "WSCONNECTING /ws/presence/" - -
WebSocket connection attempt - User: AnonymousUser, Type: <class 'django.contrib.auth.models.AnonymousUser'>
WARNING: WebSocket connection from anonymous user - ALLOWING FOR TESTING
WebSocket connection accepted - User: test_user (ID: 999)
127.0.0.1:63624 - - [13/Jun/2025:10:38:29] "WSCONNECT /ws/presence/" - -
TEST: Test user - skipping online status update
Received WebSocket message: {"type": "ping", "timestamp": "2025-06-13T10:38:29.525240"}
Message type: ping
Unknown message type: ping
127.0.0.1:63628 - - [13/Jun/2025:10:38:31] "WSCONNECTING /ws/presence/" - -
127.0.0.1:63628 - - [13/Jun/2025:10:38:31] "WSDISCONNECT /ws/presence/" - -
WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: joshsalvacion (ID: 17)
Setting user joshsalvacion (ID: 17) as ONLINE
Database operation: Setting user 17 online status to True
SUCCESS: Successfully set user 17 online status to True
SUCCESS: Set online result: True
Setting user joshsalvacion (ID: 17) as OFFLINE
Database operation: Setting user 17 online status to False
SUCCESS: Successfully set user 17 online status to False
127.0.0.1:63624 - - [13/Jun/2025:10:38:32] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:63636 - - [13/Jun/2025:10:38:33] "WSCONNECTING /ws/chat/" - -
Chat WebSocket connection attempt - User: AnonymousUser, Type: <class 'django.contrib.auth.models.AnonymousUser'>
WARNING: Chat WebSocket connection from anonymous user - ALLOWING FOR TESTING
SUCCESS: Chat WebSocket connection accepted - User: test_user (ID: 999)
127.0.0.1:63636 - - [13/Jun/2025:10:38:33] "WSCONNECT /ws/chat/" - -
MESSAGE: Chat message received - Type: ping, Data: {'type': 'ping', 'timestamp': '2025-06-13T10:38:33.346553'}
ERROR: Unknown message type: ping
ERROR: Error handling chat message: Attempt to send on a closed protocol
2025-06-13 10:38:33,740 ERROR    Exception inside application: Attempt to send on a closed protocol
Traceback (most recent call last):
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 740, in receive
    await self.send(text_data=json.dumps({
    ...<2 lines>...
    }))
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 219, in send
    await super().send({"type": "websocket.send", "text": text_data})
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 82, in send
    await self.base_send(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\daphne\server.py", line 241, in handle_reply
    protocol.handle_reply(message)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\daphne\ws_protocol.py", line 207, in handle_reply
    self.serverSend(message["text"], False)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\daphne\ws_protocol.py", line 261, in serverSend
    self.sendMessage(content.encode("utf8"), binary)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\autobahn\websocket\protocol.py", line 2275, in sendMessage
    raise Disconnected("Attempt to send on a closed protocol")
autobahn.exception.Disconnected: Attempt to send on a closed protocol

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 48, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\middleware.py", line 47, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\routing.py", line 118, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 95, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 58, in __call__
    await await_many_dispatch(
        [receive, self.channel_receive], self.dispatch
    )
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 74, in dispatch
    await handler(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 204, in websocket_receive
    await self.receive(text_data=message["text"])
  File "C:\Users\jsswp\POWER\poehr_scheduling\users\consumers.py", line 753, in receive
    await self.send(text_data=json.dumps({
    ...<2 lines>...
    }))
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\generic\websocket.py", line 219, in send
    await super().send({"type": "websocket.send", "text": text_data})
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\channels\consumer.py", line 82, in send
    await self.base_send(message)
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\daphne\server.py", line 241, in handle_reply
    protocol.handle_reply(message)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\daphne\ws_protocol.py", line 207, in handle_reply
    self.serverSend(message["text"], False)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\daphne\ws_protocol.py", line 261, in serverSend
    self.sendMessage(content.encode("utf8"), binary)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\jsswp\AppData\Local\Programs\Python\Python313\Lib\site-packages\autobahn\websocket\protocol.py", line 2275, in sendMessage
    raise Disconnected("Attempt to send on a closed protocol")
autobahn.exception.Disconnected: Attempt to send on a closed protocol
127.0.0.1:63636 - - [13/Jun/2025:10:38:33] "WSDISCONNECT /ws/chat/" - -
127.0.0.1:63365 - - [13/Jun/2025:10:38:46] "GET /api/users/37/" 200 670
127.0.0.1:63571 - - [13/Jun/2025:10:38:52] "GET /api/users/17/" 200 662
127.0.0.1:63571 - - [13/Jun/2025:10:39:08] "GET /api/users/17/" 200 662
127.0.0.1:63571 - - [13/Jun/2025:10:39:22] "GET /api/users/17/" 200 662
127.0.0.1:63573 - - [13/Jun/2025:10:39:30] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:63588 - - [13/Jun/2025:10:39:30] "WSDISCONNECT /ws/chat/" - -
Setting user joshsalvacion (ID: 17) as OFFLINE
Database operation: Setting user 17 online status to FalseDISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1001)

SUCCESS: Successfully set user 17 online status to False
127.0.0.1:63735 - - [13/Jun/2025:10:39:31] "WSCONNECTING /ws/presence/" - -
127.0.0.1:63571 - - [13/Jun/2025:10:39:31] "GET /api/users/17/" 200 662
127.0.0.1:63733 - - [13/Jun/2025:10:39:31] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63735 - - [13/Jun/2025:10:39:31] "WSCONNECT /ws/presence/" - -
Setting user joshsalvacion (ID: 17) as ONLINE
Database operation: Setting user 17 online status to True
127.0.0.1:63747 - - [13/Jun/2025:10:39:31] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63571 - - [13/Jun/2025:10:39:31] "GET /api/users/17/" 200 662
127.0.0.1:63733 - - [13/Jun/2025:10:39:31] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
SUCCESS: Successfully set user 17 online status to True
SUCCESS: Set online result: True
127.0.0.1:63733 - - [13/Jun/2025:10:39:31] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63747 - - [13/Jun/2025:10:39:32] "WSCONNECT /ws/chat/" - -
127.0.0.1:63733 - - [13/Jun/2025:10:39:32] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63767 - - [13/Jun/2025:10:39:34] "WSCONNECTING /ws/presence/" - -
WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63767 - - [13/Jun/2025:10:39:34] "WSCONNECT /ws/presence/" - -
Setting user joshsalvacion (ID: 17) as ONLINE
Database operation: Setting user 17 online status to True
127.0.0.1:63771 - - [13/Jun/2025:10:39:34] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63767 - - [13/Jun/2025:10:39:34] "WSDISCONNECT /ws/presence/" - -
SUCCESS: Successfully set user 17 online status to True
SUCCESS: Set online result: True
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63771 - - [13/Jun/2025:10:39:35] "WSCONNECT /ws/chat/" - -
Setting user joshsalvacion (ID: 17) as OFFLINE
Database operation: Setting user 17 online status to False
127.0.0.1:63771 - - [13/Jun/2025:10:39:35] "WSDISCONNECT /ws/chat/" - -
SUCCESS: Successfully set user 17 online status to False
DISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1001)
127.0.0.1:63787 - - [13/Jun/2025:10:39:37] "WSCONNECTING /ws/presence/" - -
127.0.0.1:63787 - - [13/Jun/2025:10:39:37] "WSDISCONNECT /ws/presence/" - -
WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: joshsalvacion (ID: 17)
Setting user joshsalvacion (ID: 17) as ONLINE
Database operation: Setting user 17 online status to True
SUCCESS: Successfully set user 17 online status to True
SUCCESS: Set online result: True
Setting user joshsalvacion (ID: 17) as OFFLINE
Database operation: Setting user 17 online status to False
127.0.0.1:63793 - - [13/Jun/2025:10:39:38] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63793 - - [13/Jun/2025:10:39:38] "WSDISCONNECT /ws/chat/" - -
SUCCESS: Successfully set user 17 online status to False
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
DISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1006)
127.0.0.1:63733 - - [13/Jun/2025:10:39:47] "GET /api/users/team/?search=&page=1&page_size=10" 200 3002
127.0.0.1:63735 - - [13/Jun/2025:10:39:50] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:63747 - - [13/Jun/2025:10:39:50] "WSDISCONNECT /ws/chat/" - -
Setting user joshsalvacion (ID: 17) as OFFLINE
Database operation: Setting user 17 online status to FalseDISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1001)

SUCCESS: Successfully set user 17 online status to False
127.0.0.1:63827 - - [13/Jun/2025:10:39:51] "WSCONNECTING /ws/presence/" - -
127.0.0.1:63733 - - [13/Jun/2025:10:39:51] "GET /api/users/17/" 200 662
127.0.0.1:63571 - - [13/Jun/2025:10:39:51] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63733 - - [13/Jun/2025:10:39:51] "GET /api/users/17/" 200 662
127.0.0.1:63827 - - [13/Jun/2025:10:39:51] "WSCONNECT /ws/presence/" - -
Setting user joshsalvacion (ID: 17) as ONLINE
Database operation: Setting user 17 online status to True
127.0.0.1:63836 - - [13/Jun/2025:10:39:51] "WSCONNECTING /ws/chat/" - -
SUCCESS: Successfully set user 17 online status to True
SUCCESS: Set online result: True
127.0.0.1:63571 - - [13/Jun/2025:10:39:51] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63571 - - [13/Jun/2025:10:39:52] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
127.0.0.1:63836 - - [13/Jun/2025:10:39:52] "WSCONNECT /ws/chat/" - -
127.0.0.1:63571 - - [13/Jun/2025:10:39:52] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63571 - - [13/Jun/2025:10:39:53] "GET /api/users/team/?search=&page=1&page_size=10" 200 3001
127.0.0.1:63846 - - [13/Jun/2025:10:39:54] "GET /api/users/37/" 200 670
127.0.0.1:63852 - - [13/Jun/2025:10:39:54] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63852 - - [13/Jun/2025:10:39:54] "WSDISCONNECT /ws/chat/" - -
Chat WebSocket connection attempt - User: joshsalvacion (registrar), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: joshsalvacion (ID: 17)
DISCONNECT: Chat WebSocket disconnected - User: joshsalvacion (Code: 1006)
127.0.0.1:63846 - - [13/Jun/2025:10:40:08] "GET /api/users/37/" 200 670
127.0.0.1:63571 - - [13/Jun/2025:10:40:08] "GET /api/users/17/" 200 661
127.0.0.1:63571 - - [13/Jun/2025:10:40:21] "GET /api/users/17/" 200 661
127.0.0.1:63846 - - [13/Jun/2025:10:40:23] "GET /api/users/37/" 200 670
127.0.0.1:63197 - - [13/Jun/2025:10:40:26] "WSDISCONNECT /ws/presence/" - -
127.0.0.1:63203 - - [13/Jun/2025:10:40:26] "WSDISCONNECT /ws/chat/" - -
Setting user daniellebishop (ID: 37) as OFFLINE
Database operation: Setting user 37 online status to FalseDISCONNECT: Chat WebSocket disconnected - User: daniellebishop (Code: 1001)

SUCCESS: Successfully set user 37 online status to False
127.0.0.1:63846 - - [13/Jun/2025:10:40:27] "GET /api/users/37/" 200 671
127.0.0.1:63951 - - [13/Jun/2025:10:40:27] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
127.0.0.1:63846 - - [13/Jun/2025:10:40:27] "GET /api/users/37/" 200 671
127.0.0.1:63963 - - [13/Jun/2025:10:40:27] "WSCONNECTING /ws/presence/" - -
127.0.0.1:63951 - - [13/Jun/2025:10:40:27] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
WebSocket connection attempt - User: daniellebishop (admin), Type: <class 'users.models.CustomUser'>
WebSocket connection accepted - User: daniellebishop (ID: 37)
127.0.0.1:63963 - - [13/Jun/2025:10:40:27] "WSCONNECT /ws/presence/" - -
Setting user daniellebishop (ID: 37) as ONLINE
Database operation: Setting user 37 online status to True
127.0.0.1:63969 - - [13/Jun/2025:10:40:27] "WSCONNECTING /ws/chat/" - -
127.0.0.1:63951 - - [13/Jun/2025:10:40:27] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
SUCCESS: Successfully set user 37 online status to True
SUCCESS: Set online result: True
127.0.0.1:63951 - - [13/Jun/2025:10:40:27] "GET /api/users/patients/?search=&provider=&page=1&page_size=10" 200 3460
Chat WebSocket connection attempt - User: daniellebishop (admin), Type: <class 'users.models.CustomUser'>
SUCCESS: Chat WebSocket connection accepted - User: daniellebishop (ID: 37)
